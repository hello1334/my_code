import sys
# sys.stdin = open('input.txt', 'r')
input = sys.stdin.readline



my_dict = {
    0:[(0,0),(0,1),(0,2),(0,3)],
    1:[(0,0),(1,0),(2,0),(3,0)],
    2:[(0,0),(0,1),(1,0),(1,1)],
    3:[(0,0),(1,0),(2,0),(2,1)],
    15:[(0,0),(1,0),(2,0),(2,-1)],
    4:[(0,0),(0,1),(0,2),(-1,2)],
    16:[(0,0),(0,1),(0,2),(1,2)],
    5:[(0,0),(-1,0),(-2,0),(-2,-1)],
    17:[(0,0),(-1,0),(-2,0),(-2,1)],
    6:[(0,0),(0,-1),(0,-2),(1,-2)],
    18:[(0,0),(0,-1),(0,-2),(-1,-2)],
    7:[(0,0),(1,0),(1,1),(2,1)],
    19:[(0,0),(1,0),(1,-1),(2,-1)],
    8:[(0, 0), (0,1), (-1, 1), (-1, 2)],
    20:[(0, 0), (0,1), (1, 1), (1, 2)],
    9:[(0,0),(-1,0),(-1,-1),(-2,-1)],
    21:[(0,0),(-1,0),(-1,1),(-2,1)],
    10:[(0,0),(0,-1),(1,-1),(1,-2)],
    22:[(0,0),(0,-1),(-1,-1),(-1,-2)],
    11:[(0,0),(0,1),(1,1),(0,2)],
    12:[(0,0),(-1,0),(-1,1),(-2,0)],
    13:[(0,0),(0,-1),(-1,-1),(0,-2)],
    14:[(0,0),(1,0),(1,-1),(2,0)],
}

N, M = map(int, input().split())
arr = [list(map(int, input().split())) for _ in range(N)]
max_v = 0
for ii in range(N):
    for jj in range(M):
        for i in my_dict:
            tmp_max = 0
            check = 0
            for di,dj in my_dict[i]:
                ni,nj = ii+di,jj+dj
                if 0<=ni<N and 0<=nj<M:
                    tmp_max += arr[ni][nj]
                    check+=1
            if check != 4:
                continue
            max_v = max(max_v, tmp_max)

print(max_v)